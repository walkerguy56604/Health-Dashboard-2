<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Health Dashboard</title>
</head>
<body>
  <h1>Health Dashboard</h1>
  <script>
    const username = "walkerguy56604"; 
    const repo = "Health-Dashboard-2";  

    const today = new Date();
    const year = today.getFullYear();
    const month = String(today.getMonth()+1).padStart(2,'0');
    const day = String(today.getDate()).padStart(2,'0');
    const path = `logs/${year}-${month}-${day}.md`;

    const dateLabel = document.createElement("h2");
    dateLabel.textContent = `Daily Log for ${year}-${month}-${day}`;
    document.body.appendChild(dateLabel);

    fetch(`https://api.github.com/repos/${username}/${repo}/contents/${path}`)
      .then(res => {
        if (!res.ok) throw new Error("Today's log not found yet");
        return res.json();
      })
      .then(data => {
        if (!data.content) throw new Error("Log file is empty");
        const content = atob(data.content);
        const pre = document.createElement("pre");
        pre.textContent = content;
        document.body.appendChild(pre);
      })
      .catch(err => {
        const p = document.createElement("p");
        p.textContent = `Error loading today's log: ${err.message}`;
        document.body.appendChild(p);
      });
  </script>
</body>
</html>
