<script>
// ==== CONFIGURE THESE ==== 
const username = "walkerguy56604"; // GitHub username
const repo = "Health-Dashboard-2"; // Repo name
// =========================

// Get today's date in YYYY-MM-DD
const today = new Date();
const year = today.getFullYear();
const month = String(today.getMonth() + 1).padStart(2, '0');
const day = String(today.getDate()).padStart(2, '0');
const path = `logs/${year}-${month}-${day}.md`;

// Display the date label
const dateLabel = document.createElement("h2");
dateLabel.textContent = `Daily Log for ${year}-${month}-${day}`;
document.body.appendChild(dateLabel);

// Fetch the log from GitHub
fetch(`https://api.github.com/repos/${username}/${repo}/contents/${path}`)
  .then(res => {
    if (!res.ok) throw new Error("Log not found for today");
    return res.json();
  })
  .then(data => {
    const content = atob(data.content); // decode Base64
    const logContainer = document.createElement("pre");
    logContainer.textContent = content;
    document.body.appendChild(logContainer);
  })
  .catch(err => {
    // Friendly placeholder instead of raw error
    const placeholder = document.createElement("p");
    placeholder.textContent = "No log found for today yet. Come back later!";
    placeholder.style.fontStyle = "italic";
    placeholder.style.color = "gray";
    document.body.appendChild(placeholder);
  });
</script>
